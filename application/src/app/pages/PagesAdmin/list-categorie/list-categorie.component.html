<div class="container">
  <div class="row">
    <div class="col-4"></div>
    <div class="col-12 col-md-3 mb-3">
      <div class="card-header mt-3 p-2">
        <h2> Liste des catégories </h2>
      </div>
    </div>
    <div class="col-4"></div>
  </div>
    <!-- insertion table contient les categorie disponible -->
    <table class="table table-striped table-hover table-bordered">
        <thead class="table-success">
          <tr>
            <th scope="col">id</th>
            <th scope="col">Type evénement</th>
           
            <th>Action</th>
            <th>
              <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
              Ajouter Categorie          
               </button>
            </th>
          </tr>
        </thead>

        <tbody> <!-- remplir le tableau par id et nom categori exste-->
          <tr *ngFor="let c of listCategory">
            <th scope="row">{{c.id}}</th>
            <td>{{c.nomCategori}}</td>
            
            <td> <!-- inserer des bouton assure la modification et suppression d'un categorie par identifiant-->
                <button class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#exampleModal1" (click)="updateCat(c.id)"> modifier </button>
                <button class="btn btn-danger me-2" (click)="deleteCat(c.id)"> supprimer </button>
            </td>
          </tr>         
        </tbody>
      </table>
</div>

<!-- inserer un modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Ajouter categorie</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">

        <form #form ="ngForm" (ngSubmit)="ajoutCategorie(form)">
          <label>Nom Categorie</label>
          <input class="form-control" type="text" name="nomCat" [(ngModel)]="cat.nomCategori">
          <button type="submit" class="btn btn-success mt-2"> Ajouter </button>
        </form>
        
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Modifier  categorie</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <!-- inserer un formulaire a remplir par des modification souhaité -->
        <form #form ="ngForm" (ngSubmit)="modifierCat(form)">
          <label>Nom Categorie</label>
          <input class="form-control" type="text" name="nomCat" [(ngModel)]="updatedCat.nomCategori">
          <button type="submit" class="btn btn-success mt-2"> Modifier </button>
        </form>        
      </div>
    </div>
  </div>
</div>